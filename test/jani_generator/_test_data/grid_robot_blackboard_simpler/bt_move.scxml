<?xml version="1.0" encoding="UTF-8"?>
<scxml
    initial="running"
    version="1.0"
    name="Move"
    model_src=""
    xmlns="http://www.w3.org/2005/07/scxml">

    <bt_declare_port_in key="direction" type="int32" />
    <bt_declare_port_out key="move" type="int32" />
    <!--
        move: 0 - right
              1 - left
              2 - up
              3 - down
              4 - stop
    -->

    <datamodel>
        <data id="direction" expr="0" type="int32" />
    </datamodel>

    <state id="running">
        <bt_tick target="running">
            <assign location="direction">
                <expr>
                    <bt_get_input key="direction" />
                </expr>
            </assign>
            <bt_set_output key="move" expr="direction" />
            <bt_return_status status="SUCCESS" />
        </bt_tick>
    </state>

</scxml>
