<?xml version="1.0" encoding="UTF-8"?>
<scxml
  version="1.0"
  xmlns="..."
  datamodel="ecmascript"
  name="PeopleDetectorFilterComponent"
  initial="idle">

	<datamodel>
		<data id="is_followed" type="bool" expr="true" />
	</datamodel>

  <ros_topic_publisher name="followed_topic" topic="/PeopleDetectorFilterComponent/is_followed" type="std_msgs/Bool" />
  <ros_time_rate name="control_timer_2" rate_hz="1.0" />

  <state id="idle">
    <onentry>
      <ros_topic_publish name="followed_topic">
        <field name="data" expr="is_followed" />
      </ros_topic_publish>
    </onentry>
    <ros_rate_callback name="control_timer_2">
      <target id="idle" prob="0.5">
        <assign location="is_followed" expr="true"/>
      </target>
      <target id="idle" prob="0.5">
        <assign location="is_followed" expr="false"/>
      </target>
    </ros_rate_callback>
  </state>

</scxml>
