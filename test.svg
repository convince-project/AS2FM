@startuml
scale 500 width
package sender_a {
    usecase "send_msg" as sender_a_send_msg
    usecase "send_msg-0-cbe81d77" as sender_a_send_msg_0_cbe81d77
    usecase "send_msg-2-cbe81d77" as sender_a_send_msg_2_cbe81d77
    sender_a_send_msg -[#6600cc]-> sender_a_send_msg_0_cbe81d77
    sender_a_send_msg_0_cbe81d77 -[#00cccc]-> sender_a_send_msg_2_cbe81d77 : ⏬ros_topic./trigger.valid=(True)  \n\
counter=(counter + 1)  \n\

    sender_a_send_msg_2_cbe81d77 -[#cc9900]-> sender_a_send_msg : ⏬ros_topic./sender_a_counter.data=(counter)  \n\
ros_topic./sender_a_counter.valid=(True)  \n\

}
package sender_b {
    usecase "send_msg" as sender_b_send_msg
    usecase "send_msg-0-cbe81d77" as sender_b_send_msg_0_cbe81d77
    usecase "send_msg-2-cbe81d77" as sender_b_send_msg_2_cbe81d77
    sender_b_send_msg -[#cc0099]-> sender_b_send_msg_0_cbe81d77
    sender_b_send_msg_0_cbe81d77 -[#0033cc]-> sender_b_send_msg_2_cbe81d77 : ⏬ros_topic./trigger.valid=(True)  \n\
counter=(counter + 1)  \n\

    sender_b_send_msg_2_cbe81d77 -[#66cc00]-> sender_b_send_msg : ⏬ros_topic./sender_b_counter.data=(counter)  \n\
ros_topic./sender_b_counter.valid=(True)  \n\

}
package receiver {
    usecase "receive_msg" as receiver_receive_msg
    usecase "receive_msg-1-d0d54c6b" as receiver_receive_msg_1_d0d54c6b
    receiver_receive_msg -[#00cc33]-> receiver_receive_msg_1_d0d54c6b : ⏬counter=(counter + 1)  \n\

    receiver_receive_msg_1_d0d54c6b -[#cc0000]-> receiver_receive_msg : ⏬ros_topic./receiver_counter.data=(counter)  \n\
ros_topic./receiver_counter.valid=(True)  \n\

}
package ros_topic./trigger {
    usecase "received" as ros_topic__trigger_received
    usecase "waiting" as ros_topic__trigger_waiting
    ros_topic__trigger_waiting -[#0033cc]-> ros_topic__trigger_received
    ros_topic__trigger_received -[#00cc33]-> ros_topic__trigger_waiting
}
package ros_topic./sender_a_counter {
    usecase "waiting" as ros_topic__sender_a_counter_waiting
    ros_topic__sender_a_counter_waiting -[#cc9900]-> ros_topic__sender_a_counter_waiting
}
package ros_topic./sender_b_counter {
    usecase "waiting" as ros_topic__sender_b_counter_waiting
    ros_topic__sender_b_counter_waiting -[#66cc00]-> ros_topic__sender_b_counter_waiting
}
package ros_topic./receiver_counter {
    usecase "waiting" as ros_topic__receiver_counter_waiting
    ros_topic__receiver_counter_waiting -[#cc0000]-> ros_topic__receiver_counter_waiting
}
